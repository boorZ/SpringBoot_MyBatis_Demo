<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue笔记</title>
    <style type="text/css">
        #learn p {
            margin-left: 2em;
        }
        .color_red {
            color: red;
        }
    </style>
</head>
<body>
<h1 style="color: red; text-align: center;">Vue</h1>
<div id="learn">
    <h2>一、Vue是什么？</h2>
    <div>
        <p>用于构建用户界面的渐进式框架。<a style="color: red;">特点：易用、灵活、高效</a></p>
    </div>

    <h2>二、Vue-数据的双向绑定是什么？</h2>
    <div>
        <P><strong>2.1、单向数据绑定</strong></P>
        <p>
            &emsp;&emsp;指的是我们先把模板写好，然后把模板和数据（数据可能来自后台）整合到一起形成HTML代码，然后把这段HTML代码插入到文档流里面。
            单向数据绑定缺点：HTML代码一旦生成完以后，就没有办法再变了，如果有新的数据来了，那就必须把之前的HTML代码去掉，再重新把新的数据和模板一起整合后插入到文档流中。 简单的来说就是DOM操作直接改变
        </p>
        <P><strong>2.2、数据数据双向</strong></P>
        <p>
            &emsp;&emsp;数据模型（Module）和视图（View）之间的双向绑定。
            用户在视图上的修改会自动同步到数据模型中去，同样的，如果数据模型中的值发生了变化，也会立刻同步到视图中去。
            双向数据绑定的优点是无需进行和单向数据绑定的那CRUD（Create，Retrieve，Update，Delete）操作双向数据绑定最经常的应用场景就是表单了，
            这样当用户在前端页面完成输入后，不用任何操作，我们就已经拿到了用户的数据存放到数据模型中了。
        </p>
        <p><strong>2.3、vue数据双向绑定是通过数据劫持结合发布者-订阅者模式的方式来实现的</strong></p>
        <p>
            &emsp;&emsp;我们已经知道实现数据的双向绑定，首先要对数据进行劫持监听，所以我们需要设置一个监听器Observer，用来监听所有属性。
            如果属性发上变化了，就需要告诉订阅者Watcher看是否需要更新。因为订阅者是有很多个，所以我们需要有一个消息订阅器Dep来专门收集这些订阅者，
            然后在监听器Observer和订阅者Watcher之间进行统一管理的。接着，我们还需要有一个指令解析器Compile，对每个节点元素进行扫描和解析，
            将相关指令对应初始化成一个订阅者Watcher，并替换模板数据或者绑定相应的函数，此时当订阅者Watcher接收到相应属性的变化，就会执行对应的更新函数，
            从而更新视图。因此接下去我们执行以下3个步骤，实现数据的双向绑定：
        </p>
        <p>1.实现一个监听器Observer，用来劫持并监听所有属性，如果有变动的，就通知订阅者。</p>
        <p>2.实现一个订阅者Watcher，可以收到属性的变化通知并执行相应的函数，从而更新视图。</p>
        <p>3.实现一个解析器Compile，可以扫描和解析每个节点的相关指令，并根据初始化模板数据以及初始化相应的订阅器。</p>
        <p>流程图如下：</p>
        &emsp;&emsp;<img height="400px" src="https://images2015.cnblogs.com/blog/938664/201705/938664-20170522225458132-1434604303.png" />
        <p>例子：<a href="demo1.html">数据的双向绑定例子</a></p>
        <p class="color_red"><strong>使用控制台,输入hellos.name='Test'赋值，会自动触发set方法。若输入hellos.name拿值可以触发get方法，这也就是vue的双向数据绑定的核心点。</strong></p>
    </div>
</div>
</body>
</html>